// ë‹¬ì½¤ì»¤í”¼ : main.js

// ì´ë²¤íŠ¸í•¨ìˆ˜ì—°ê²° ì…‹íŒ…í•˜ê¸° //////////////////////////////////
// ë¡œë”©í•¨ìˆ˜ í˜¸ì¶œ ////////
window.addEventListener("DOMContentLoaded", loadFn); // ðŸ“¢ìµœì´ˆí˜¸ì¶œ

/************************************* 
    í•¨ìˆ˜ëª…: loadFn
    ê¸°ëŠ¥: íŽ˜ì´ì§€ ë¡œë”©ì‹œ ê¸°ëŠ¥ìˆ˜í–‰
*************************************/
function loadFn() {
    // í˜¸ì¶œí™•ì¸
    console.log("ë¡œë”©ì™„ë£Œ!");


  /********************************************** 
    ðŸ‰í•¨ìˆ˜ëª… : updatePg
    ê¸°ëŠ¥ : íŽ˜ì´ì§€ ì´ë™ì‹œ ì„¤ì •ê°’ ì—…ë°ì´íŠ¸í•˜ê¸°
**********************************************/
function updatePg(obj) {
    // obj - ë³€ê²½í•  ë©”ë‰´ì „ì²´ ê°ì²´ ðŸ“¢objë¥¼ ë°›ì•„ì„œ ì•ˆì—ì„œ ì²˜ë¦¬!
    // 1. í•¨ìˆ˜í˜¸ì¶œí™•ì¸
    console.log("ì—…ë°ì´íŠ¸!");

    // ðŸ¥¨2. íŽ˜ì´ì§€ ì´ë™í•˜ê¸°
    // scrllTo(ê°€ë¡œ,ì„¸ë¡œ)
    window.scrollTo(0, window.innerHeight * pgnum);
    // ì„¸ë¡œ ì´ë™ìœ„ì¹˜: ìœˆë„ìš°ë†’ì´ê°’*íŽ˜ì´ì§€ë²ˆí˜¸

    //í˜¸ì¶œ
    let pgnum = 0;
    pgnum = seq;
    setTimeout(() => pageAction(pgnum), 500);

  } ///////////// updatePg í•¨ìˆ˜ ////////
  


/*************************************** 
    ðŸ§Ší•¨ìˆ˜ëª… : initCSS
    ê¸°ëŠ¥ : ë“±ìž¥í•  ìš”ì†Œë“¤ì˜ ì´ˆê¸°ê°’ ì…‹íŒ…
  ***************************************/
  // 1. ëŒ€ìƒ: .movecenter
  const movecenter = document.querySelectorAll(".movecenter");
  console.log(movecenter); // ðŸ¥š ëŒ€ìƒì´ ìž˜ ìž¡í˜”ëŠ”ì§€ í™•ì¸
  // 2. ì´ë²¤íŠ¸ì„¤ì •
  movecenter.forEach((ele) => { // ðŸ¥ší•´ë‹¹ë˜ëŠ” ì•  ë³´ë‚´ê¸° idx -> ë²ˆí˜¸êµ¬ë¶„ìš©
    initCSS(ele);
  });
  // 3. í•¨ìˆ˜ë§Œë“¤ê¸°
  function initCSS(ele, seq) {
    // ele-ìš”ì†Œ, seq-ìˆœë²ˆ ðŸ“¢í•´ë‹¹ë˜ëŠ” ì• ë“¤ë§ˆë‹¤ ìˆœë²ˆì´ ë‹¬ë¼ì§€ê¸° ë•Œë¬¸ì—
    // 1. í•¨ìˆ˜í˜¸ì¶œí™•ì¸
    console.log("ì´ˆê¸°í™”!", seq);

    // 2. í•´ë‹¹ìš”ì†Œ ìŠ¤íƒ€ì¼ì†ì„± ì„ íƒ
    let sty = ele.style;

    // 3. ê° ìš”ì†Œë³„ ì´ˆê¸°í™”í•˜ê¸°
    // íŠ¸ëžœì§€ì…˜ ê³µí†µì´ˆê¸°í™”
    sty.transition = "none";

    // íŽ˜ì´ì§€ë³„ ì´ˆê¸°í™”
    if (seq) {
      // 3ë²ˆíŽ˜ì´ì§€ðŸ¥­ì´ê±° ê°–ë‹¤ì“°ê¸°^_^!
      // ìœ„ë¡œ ì˜¬ë¼ê°€ìžˆìŒ!
      sty.top = "30%";
      sty.opacity = 0;
      sty.transition = "1.5s ease-in";
    } ///// if //////////

  } /////////// initCSS í•¨ìˆ˜ //////

  /*************************************** 
    ðŸ¥í•¨ìˆ˜ëª… : pageAction
    ê¸°ëŠ¥ : íŽ˜ì´ì§€ë³„ ì•¡ì…˜ì£¼ê¸°
  ***************************************/
    function pageAction(seq) { // seq-ë³€ê²½ìˆœë²ˆ
        // 1. í˜¸ì¶œí™•ì¸
        console.log("ì•¡ìˆ€~!!!", seq);
    
        // 2. ë³€ê²½ëŒ€ìƒ ìŠ¤íƒ€ì¼ ì†ì„±ì„ íƒ
        let sty = movecenter[seq].style;
    
        // 3. ì „ì²´ì´ˆê¸°í™”!
        movecenter.forEach((ele) => {
          initCSS(ele);
        });
    
        // 4. í•´ë‹¹ íŽ˜ì´ì§€ ì•¡ì…˜ì£¼ê¸°
        if (seq) {
          // 3ë²ˆíŽ˜ì´ì§€ ðŸ¥­ì´ê±° ê°–ë‹¤ì“°ê¸°^_^!
          // ìœ„ì—ì„œ ì¤‘ì•™ìœ¼ë¡œ ì´ë™!
          sty.top = "15%";
          sty.opacity = 1;
          // íŠ¸ëžœì§€ì…˜ì£¼ê¸°
          sty.transition = "all 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55) 0s";
        } ///// if //////////
      } //////////// pageAction í•¨ìˆ˜ /////
    
      // ì²«íŽ˜ì´ì§€ íŽ˜ì´ì§€ì•¡ì…˜ ì ìš©ìœ„í•´ ìµœì´ˆí˜¸ì¶œí•˜ê¸° ðŸ“¢ìƒˆë¡œê³ ì¹¨ì‹œ ë“±ìž¥ì•¡ì…˜
      setTimeout(() => pageAction(0), 500);

    } //////////// loadFn í•¨ìˆ˜ ///////////////